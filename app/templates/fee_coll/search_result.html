{% extends 'base.html' %}
{% block title %}{{ student.name}}'s Fee Collection{% endblock %}
{% block content %}
  <h2 class="text-center">{{ student.name}}'s Fee Collection</h2>
<div class="container-md col-md-6 offset-md-3 rounded shadow">
  <div class="row card border-1 justify-content-center">
    <h5 class="card-title text-center mt-3"> Reg<sup>n</sup> No: {{ student.reg_no }}</h5>
  </div>
 <p class="text-left card-body">
    <strong>Name:</strong> {{ student.name }}<br>
    <strong>Registration Date:</strong> {{ student.reg_date }}<br>
    <strong>Notice:</strong> {{ student.notice }}<br>
    <strong>Email:</strong> {{ student.email }}<br>
    <strong>Contact:</strong> {{ student.contact }}<br>

    {% if fee %}
        <strong>Last Invoice No:</strong> {{ fee.invoice_number }}<br>
        <strong>Last Invoice Date:</strong> {{ fee.fee_time }}<br>
        <strong>Last Invoice Pay date:</strong> {{ fee.payment_time }}<br>
    {% else %}
        <strong>No fee data available for this student.</strong><br>
    {% endif %}
</p>
    <p>
        <form method="POST" action="{{ url_for('fee_coll.search', reg_no=student.reg_no) }}">
                {{ form.hidden_tag() }}
                <h2 class="mt-5 mb-3">Fee Collection Form</h2>
                {{ fee_coll_form.date.label }}
                {{ fee_coll_form.date }}
                {{ fee_coll_form.month.label }}
                {{ fee_coll_form.month }}
                {{ fee_coll_form.type.label }}
                {{ fee_coll_form.type }}
                {{ fee_coll_form.mode.label }}
                {{ fee_coll_form.mode }}
                {{ fee_coll_form.slot.label }}
                {{ fee_coll_form.slot }}

                <button type="submit" class="btn btn-dark mt-3">Submit</button>
            </form>
    </p>

  <div class="row justify-content-center">
</div>
</div>
{% endblock %}